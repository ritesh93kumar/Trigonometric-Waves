var drawWave=function(a){try{if("object"!=typeof a&&"undefined"==typeof a.canvas)throw"Provide a valid canvas element for the application.";var b=a.canvas,c=b.getContext("2d"),d=a.lineWidth||4,e=a.origin||{x:0,y:b.height/2},f=a.waveName||"none",g={amplitude:a.waveProperties.amplitude||b.height/4,frequency:a.waveProperties.frequency||.05,phase:a.waveProperties.phase||0,shift:a.waveProperties.shift||Math.PI/40,wavelength:a.waveProperties.wavelength||b.width/1.1,color:a.waveProperties.color||"rgba(255,255,255,0.5)"},h=function(a,b,e){var f=d;c.beginPath(),c.fillStyle=e,c.lineWidth=d,c.arc(a,b,f,0,2*Math.PI),c.fill()},i=function(a){"none"==f&&(a.color="rgba(255,0,0,0.5)");for(var b=e.x;b<e.x+a.wavelength;b++){var c=a.amplitude*Math.sin(a.frequency*b+a.phase);h(b,e.y-c,a.color)}},j=function(a){"none"==f&&(a.color="rgba(0,255,0,0.5)");for(var b=e.x;b<e.x+a.wavelength;b++){var c=a.amplitude*Math.cos(a.frequency*b+a.phase);h(b,e.y-c,a.color)}},k=function(a){"none"==f&&(a.color="rgba(0,102,255,0.7)");for(var b=e.x;b<e.x+a.wavelength;b++){var c=a.amplitude*Math.tan(a.frequency*b+a.phase);h(b,e.y-c,a.color)}},l=function(){requestAnimationFrame(l),c.clearRect(0,0,b.width,b.height),g.phase+=g.shift,"sine"==f?i(g):"cos"==f?j(g):"tan"==f?k(g):(i(g),j(g),k(g))},m=function(){if(g.phase+=g.shift,"sine"==f)i(g);else if("cos"==f)j(g);else if("tan"==f)k(g);else{if(""!=f&&"none"!=f)throw"Invalid waveName";i(g),j(g),k(g)}};this.draw=function(){l()},this.redraw=function(){m()}}catch(a){return"Error: "+a}};